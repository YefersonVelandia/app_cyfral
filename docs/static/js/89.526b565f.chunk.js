(this.webpackJsonpcyfral=this.webpackJsonpcyfral||[]).push([[89],{1279:function(e,t,a){"use strict";a.r(t);for(var r=a(30),n=a.n(r),c=a(529),o=a(103),l=a(73),s=a(0),i=a(89),u=a(312),p=a(533),d=a(3337),m=a(471),b=a(121),f=a(562),h=a.n(f),v=a(2),y=i.a.Option,j=[],O=10;O<36;O++)j.push(Object(v.jsx)(y,{children:O.toString(36)+O},O.toString(36)+O));var g={name:[{required:!0,message:"Por favor digite el nombre de la tarea"},{whitespace:!0,message:"Nombre del operarion no puede ser un caracter en blanco"},{min:3,message:"EL nombre minimo debe tener 3 caracteres"}],estacion:[{required:!0,message:"Selecciona una estaci\xf3n"}],zona:[{required:!0,message:"Seleccione una zona"}],operarios:[{required:!0,message:"Seleccione los operarios que pueden realizar esa tarea"}]};t.default=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],f=Object(s.useState)([]),j=Object(l.a)(f,2),O=j[0],x=j[1],E=Object(s.useState)([]),k=Object(l.a)(E,2),S=k[0],w=k[1],N=Object(s.useState)([]),C=Object(l.a)(N,2),z=C[0],P=C[1],I=function(){var e=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cyfral.herokuapp.com/api/stations",e.prev=1,e.next=4,h.a.get("https://cyfral.herokuapp.com/api/stations",{headers:{"x-token":localStorage.getItem("x-token")}});case 4:return t=e.sent,e.t0=x,e.t1=void 0,e.t2=Object(c.a)(O),e.next=10,t.data.station;case 10:e.t3=e.sent,e.t4=[e.t3],e.t5=e.t2.concat.call(e.t2,e.t4),e.t0.apply.call(e.t0,e.t1,e.t5),console.log(O),e.next=20;break;case 17:e.prev=17,e.t6=e.catch(1),console.log(e.t6);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cyfral.herokuapp.com/api/zones",e.prev=1,e.next=4,h.a.get("https://cyfral.herokuapp.com/api/zones",{headers:{"x-token":localStorage.getItem("x-token")}});case 4:return t=e.sent,e.t0=w,e.t1=void 0,e.t2=Object(c.a)(S),e.next=10,t.data.zone;case 10:e.t3=e.sent,e.t4=[e.t3],e.t5=e.t2.concat.call(e.t2,e.t4),e.t0.apply.call(e.t0,e.t1,e.t5),e.next=19;break;case 16:e.prev=16,e.t6=e.catch(1),console.log(e.t6);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cyfral.herokuapp.com/api/users/operator",e.prev=1,e.next=4,h.a.get("https://cyfral.herokuapp.com/api/users/operator",{headers:{"x-token":localStorage.getItem("x-token")}});case 4:return t=e.sent,console.log(t),e.t0=P,e.t1=void 0,e.t2=Object(c.a)(z),e.next=11,t.data.operator;case 11:e.t3=e.sent,e.t4=[e.t3],e.t5=e.t2.concat.call(e.t2,e.t4),e.t0.apply.call(e.t0,e.t1,e.t5),e.next=20;break;case 17:e.prev=17,e.t6=e.catch(1),console.log(e.t6);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,"https://cyfral.herokuapp.com/api/tasks",e.next=5,h.a.post("https://cyfral.herokuapp.com/api/tasks",t,{headers:{"x-token":localStorage.getItem("x-token")}});case 5:a=e.sent,console.log(a),r(!1),u.b.success({content:"Tarea creada correctamente!",duration:3}),document.getElementById("miformulario").reset(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error: ",{error:e.t0}),u.b.error("Error al crear usuario",4),r(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){I(),T(),F()}),[]),Object(v.jsx)(p.a,{children:Object(v.jsxs)(d.a,{id:"miformulario",layout:"vertical",name:"register-form",onFinish:q,onFinishFailed:function(e){console.log(e)},children:[Object(v.jsx)(d.a.Item,{name:"name",label:"Nombre de la tarea",rules:g.name,hasFeedback:!0,children:Object(v.jsx)(m.a,{size:"small"})}),Object(v.jsx)(d.a.Item,{name:"station",label:"Seleccione una estacion",rules:g.estacion,hasFeedback:!0,children:Object(v.jsx)(i.a,{showSearch:!0,placeholder:"Selecciona una estaci\xf3n",children:O.map((function(e){return Object(v.jsx)(y,{value:e.uid,children:e.station},e.uid)}))})}),Object(v.jsx)(d.a.Item,{name:"zone",label:"Seleccione una zona",rules:g.zona,hasFeedback:!0,children:Object(v.jsx)(i.a,{showSearch:!0,placeholder:"Selecciona una zona",children:S.map((function(e){return Object(v.jsx)(y,{value:e.uid,children:e.zone},e.uid)}))})}),Object(v.jsx)(d.a.Item,{name:"operarios",label:"Seleccione los operarios que pueden realizar esa tarea",rules:g.operarios,hasFeedback:!0,children:Object(v.jsx)(i.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Seleccione",children:z.map((function(e){return Object(v.jsx)(y,{value:e.uid,children:e.name},e.uid)}))})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(b.a,{type:"primary",htmlType:"submit",block:!0,loading:a,children:"Crear tarea"})})]})})}},529:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(188);var n=a(146);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},533:function(e,t,a){"use strict";var r=a(5),n=a(3),c=a(0),o=a(6),l=a.n(o),s=a(37),i=a(49),u=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},p=function(e){var t=e.prefixCls,a=e.className,o=e.hoverable,s=void 0===o||o,p=u(e,["prefixCls","className","hoverable"]);return c.createElement(i.a,null,(function(e){var o=(0,e.getPrefixCls)("card",t),i=l()("".concat(o,"-grid"),a,Object(r.a)({},"".concat(o,"-grid-hoverable"),s));return c.createElement("div",Object(n.a)({},p,{className:i}))}))},d=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},m=function(e){return c.createElement(i.a,null,(function(t){var a=t.getPrefixCls,r=e.prefixCls,o=e.className,s=e.avatar,i=e.title,u=e.description,p=d(e,["prefixCls","className","avatar","title","description"]),m=a("card",r),b=l()("".concat(m,"-meta"),o),f=s?c.createElement("div",{className:"".concat(m,"-meta-avatar")},s):null,h=i?c.createElement("div",{className:"".concat(m,"-meta-title")},i):null,v=u?c.createElement("div",{className:"".concat(m,"-meta-description")},u):null,y=h||v?c.createElement("div",{className:"".concat(m,"-meta-detail")},h,v):null;return c.createElement("div",Object(n.a)({},p,{className:b}),f,y)}))},b=a(532),f=a(527),h=a(528),v=a(56),y=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};var j=function(e){var t,a,o,u=c.useContext(i.b),d=u.getPrefixCls,m=u.direction,j=c.useContext(v.b),O=e.prefixCls,g=e.className,x=e.extra,E=e.headStyle,k=void 0===E?{}:E,S=e.bodyStyle,w=void 0===S?{}:S,N=e.title,C=e.loading,z=e.bordered,P=void 0===z||z,I=e.size,T=e.type,F=e.cover,q=e.actions,A=e.tabList,K=e.children,B=e.activeTabKey,L=e.defaultActiveTabKey,J=e.tabBarExtraContent,G=e.hoverable,M=e.tabProps,D=void 0===M?{}:M,H=y(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Q=d("card",O),R=0===w.padding||"0px"===w.padding?{padding:24}:void 0,U=c.createElement("div",{className:"".concat(Q,"-loading-block")}),V=c.createElement("div",{className:"".concat(Q,"-loading-content"),style:R},c.createElement(f.a,{gutter:8},c.createElement(h.a,{span:22},U)),c.createElement(f.a,{gutter:8},c.createElement(h.a,{span:8},U),c.createElement(h.a,{span:15},U)),c.createElement(f.a,{gutter:8},c.createElement(h.a,{span:6},U),c.createElement(h.a,{span:18},U)),c.createElement(f.a,{gutter:8},c.createElement(h.a,{span:13},U),c.createElement(h.a,{span:9},U)),c.createElement(f.a,{gutter:8},c.createElement(h.a,{span:4},U),c.createElement(h.a,{span:3},U),c.createElement(h.a,{span:16},U))),W=void 0!==B,X=Object(n.a)(Object(n.a)({},D),(t={},Object(r.a)(t,W?"activeKey":"defaultActiveKey",W?B:L),Object(r.a)(t,"tabBarExtraContent",J),t)),Y=A&&A.length?c.createElement(b.a,Object(n.a)({size:"large"},X,{className:"".concat(Q,"-head-tabs"),onChange:function(t){var a;null===(a=e.onTabChange)||void 0===a||a.call(e,t)}}),A.map((function(e){return c.createElement(b.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(N||x||Y)&&(o=c.createElement("div",{className:"".concat(Q,"-head"),style:k},c.createElement("div",{className:"".concat(Q,"-head-wrapper")},N&&c.createElement("div",{className:"".concat(Q,"-head-title")},N),x&&c.createElement("div",{className:"".concat(Q,"-extra")},x)),Y));var Z=F?c.createElement("div",{className:"".concat(Q,"-cover")},F):null,$=c.createElement("div",{className:"".concat(Q,"-body"),style:w},C?V:K),_=q&&q.length?c.createElement("ul",{className:"".concat(Q,"-actions")},function(e){return e.map((function(t,a){return c.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},c.createElement("span",null,t))}))}(q)):null,ee=Object(s.a)(H,["onTabChange"]),te=I||j,ae=l()(Q,(a={},Object(r.a)(a,"".concat(Q,"-loading"),C),Object(r.a)(a,"".concat(Q,"-bordered"),P),Object(r.a)(a,"".concat(Q,"-hoverable"),G),Object(r.a)(a,"".concat(Q,"-contain-grid"),function(){var t;return c.Children.forEach(e.children,(function(e){e&&e.type&&e.type===p&&(t=!0)})),t}()),Object(r.a)(a,"".concat(Q,"-contain-tabs"),A&&A.length),Object(r.a)(a,"".concat(Q,"-").concat(te),te),Object(r.a)(a,"".concat(Q,"-type-").concat(T),!!T),Object(r.a)(a,"".concat(Q,"-rtl"),"rtl"===m),a),g);return c.createElement("div",Object(n.a)({},ee,{className:ae}),o,Z,$,_)};j.Grid=p,j.Meta=m;t.a=j}}]);
//# sourceMappingURL=89.526b565f.chunk.js.map